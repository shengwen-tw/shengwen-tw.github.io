{"version":3,"file":"component---gatsby-theme-academic-src-templates-post-post-jsx-content-file-path-content-research-semu-index-md-c4b3260c5c9d1f46a624.js","mappings":"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","sources":["webpack://example/./content/research/semu/index.md","webpack://example/../gatsby-theme-academic/src/templates/post/post.jsx"],"sourcesContent":["/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    ul: \"ul\",\n    li: \"li\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.p, null, React.createElement(_components.a, {\n    href: \"https://github.com/sysprog21/semu\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, \"semu\"), \" is a minimalist RISC-V system emulator capable of running Linux the kernel and corresponding userland. semu implements the following:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"RISC-V instruction set architecture: RV32IMA\"), \"\\n\", React.createElement(_components.li, null, \"Privilege levels: S and U modes\"), \"\\n\", React.createElement(_components.li, null, \"Control and status registers (CSR)\"), \"\\n\", React.createElement(_components.li, null, \"Virtual memory system: RV32 MMU\"), \"\\n\", React.createElement(_components.li, null, \"UART: 8250/16550\"), \"\\n\", React.createElement(_components.li, null, \"PLIC (platform-level interrupt controller): 32 interrupts, no priority\"), \"\\n\", React.createElement(_components.li, null, \"Standard SBI, with the timer extension\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"My contributions include the virtualization of several hardware components:\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"VirtIO Block:\"), \" Emulates block storage devices, allowing the guest OS to mount and access disk images\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"VirtIO GPU:\"), \" Emulates a graphics device supporting \", React.createElement(_components.a, {\n    href: \"https://www.x.org/wiki/\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, \"X11\"), \", \", React.createElement(_components.a, {\n    href: \"https://mesa3d.org/\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, \"Mesa3D\"), \", \", React.createElement(_components.a, {\n    href: \"https://directfb2.github.io/\",\n    target: \"_blank\",\n    rel: \"nofollow\"\n  }, \"DirectFB\"), \", etc.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"VirtIO Input:\"), \" Emulates input devices such as mouse and keyboard for interactive use\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"VirtIO Entropy:\"), \" Emulates a random number generator (RNG), supplying entropy required by many software components to operate correctly (e.g., system libraries, cryptographic routines, networking tools)\"), \"\\n\"), \"\\n\", React.createElement(\"iframe\", {\n    src: \"https://www.youtube.com/embed/iPnLBjABbGs\",\n    width: \"100%\",\n    height: \"500px\",\n    title: \"semu: VirtIO GPU demonstration\",\n    frameborder: \"0\",\n    allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\",\n    referrerpolicy: \"strict-origin-when-cross-origin\",\n    allowfullscreen: true\n  }));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/shengwen-tw.github.io/shengwen-tw.github.io/example/content/research/semu/index.md\";\nimport {useLocation} from '@gatsbyjs/reach-router';\nimport {graphql} from 'gatsby';\nimport {GatsbyImage, getImage} from 'gatsby-plugin-image';\nimport moment from 'moment';\nimport React, {useState, useEffect, useContext} from 'react';\nimport {Panel, Row, Col, Input, Message, FlexboxGrid, InputGroup, Grid} from 'rsuite';\nimport nacl from 'tweetnacl';\nimport naclUtil from 'tweetnacl-util';\nimport CodeBox from '../../components/CodeBox';\nimport Comment from '../../components/Comment';\nimport SEO from '../../components/Seo';\nimport Context from '../../utils/context';\nimport {useSiteMetadata} from '@/utils/hooks';\nimport Utils from '../../utils/pageUtils.mjs';\nimport './highlight-syntax.less';\nimport Icon from '@/components/Icon';\nfunction Post({data: {mdx}, children}) {\n  const {fields: {slug: {html, nonce, htmlEncrypted, title, excerpt, path, date, commit, type}}, frontmatter: {cover}, tableOfContents} = mdx;\n  const editTime = moment.unix(commit).format('MMM Do YYYY');\n  const postTime = Utils.formatDate(date);\n  const image = cover ? getImage(cover) : null;\n  const siteMetadata = useSiteMetadata();\n  const canonicalUrl = Utils.generateFullUrl(siteMetadata, path);\n  console.log(nonce);\n  const [state, setState] = useState({\n    locked: nonce !== '',\n    failed: false,\n    html\n  });\n  const [passwordVisible, setPasswordVisible] = React.useState(false);\n  const [password, setPassword] = React.useState('');\n  const handlePasswordVisibleChange = () => {\n    setPasswordVisible(!passwordVisible);\n  };\n  const handlePasswordChange = value => {\n    setPassword(value);\n  };\n  const onUnlock = () => {\n    if (state.locked) {\n      try {\n        const passwordDecoded = naclUtil.decodeUTF8(password);\n        const nonceBuffer = naclUtil.decodeBase64(nonce);\n        const keyBuffer = nacl.hash(passwordDecoded).slice(0, nacl.secretbox.keyLength);\n        const box = naclUtil.decodeBase64(htmlEncrypted);\n        const htmlBuffer = nacl.secretbox.open(box, nonceBuffer, keyBuffer);\n        const htmlReal = naclUtil.encodeUTF8(htmlBuffer);\n        setState({\n          locked: false,\n          failed: false,\n          html: htmlReal\n        });\n      } catch (e) {\n        setState({\n          locked: true,\n          failed: true,\n          html: ''\n        });\n      }\n    }\n  };\n  const time = [];\n  if (postTime) {\n    time.push(`Posted: ${postTime}`);\n  }\n  if (commit > 0 && postTime !== editTime) {\n    time.push(`Edited: ${editTime}`);\n  }\n  const context = useContext(Context);\n  const location = useLocation();\n  useEffect(() => {\n    if (context && context.setState && Object.getOwnPropertyNames(tableOfContents).length) {\n      context.setState({\n        tableOfContents,\n        pathname: location.pathname\n      });\n    }\n  }, []);\n  const EncryptedBody = () => {\n    return state.locked ? React.createElement(Panel, {\n      description: \"\"\n    }, React.createElement(Grid, {\n      fluid: true\n    }, React.createElement(Row, {\n      justify: \"center\",\n      type: \"flex\"\n    }, React.createElement(Col, {\n      xs: 24,\n      sm: 24,\n      md: 24,\n      lg: 16,\n      xl: 12\n    }, state.failed ? React.createElement(Message, {\n      type: \"error\"\n    }, \"Wrong password! Please try again.\") : React.createElement(Message, {\n      type: \"info\"\n    }, \"This article is encrypted by xsalsa20-poly1305 algorithm.\"), React.createElement(InputGroup, {\n      style: {\n        marginTop: '1rem'\n      }\n    }, React.createElement(Input, {\n      type: passwordVisible ? 'text' : 'password',\n      value: password,\n      placeholder: \"Enter password to unlock this article.\",\n      onPressEnter: onUnlock,\n      onChange: handlePasswordChange,\n      size: \"lg\"\n    }), React.createElement(InputGroup.Button, {\n      onClick: handlePasswordVisibleChange\n    }, passwordVisible ? React.createElement(Icon, {\n      icon: \"eye\"\n    }) : React.createElement(Icon, {\n      icon: \"eye-slash\"\n    }))))))) : React.createElement(\"article\", {\n      className: \"markdown-body\"\n    }, children);\n  };\n  const PublicBody = () => {\n    return React.createElement(\"article\", {\n      className: \"markdown-body\"\n    }, children);\n  };\n  return React.createElement(React.Fragment, null, React.createElement(SEO, {\n    title: title,\n    description: excerpt,\n    path: path,\n    keywords: ['FullStack developer', 'Javascript', 'ReactJS', 'NodeJS', 'Gatsby', 'technology']\n  }), React.createElement(\"div\", null, React.createElement(\"div\", {\n    className: \"marginTopTitle\"\n  }, React.createElement(\"h1\", {\n    className: \"titleSeparate\"\n  }, title)), React.createElement(\"div\", {\n    style: {\n      color: 'var(--rs-text-tertiary)',\n      marginBottom: '1rem'\n    }\n  }, time.join(', ')), React.createElement(FlexboxGrid, {\n    style: {\n      marginBottom: '1rem'\n    }\n  }), nonce === '' ? React.createElement(PublicBody) : React.createElement(EncryptedBody)), type === 'posts' ? React.createElement(\"div\", {\n    style: {\n      marginTop: '2rem'\n    }\n  }, React.createElement(Comment, {\n    pageCanonicalUrl: canonicalUrl,\n    pageId: title\n  })) : null);\n}\nexport const pageQuery = graphql`\n  query($contentFilePath: String!) {\n    mdx(internal: { contentFilePath: { eq: $contentFilePath } }) {\n      tableOfContents\n      frontmatter {\n        cover {\n          childImageSharp {\n            gatsbyImageData(\n              layout: CONSTRAINED\n              width: 1000\n            )\n          }\n        }\n      }\n      fields {\n        slug {\n          html\n          htmlEncrypted\n          nonce\n          timeToRead\n          title\n          date\n          tags\n          path\n          excerpt\n          links { \n            name\n            url\n          }\n          commit\n          type\n        }\n      }\n      internal {\n        contentFilePath\n      }\n    }\n  }\n`;\nPost\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(Post, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n"],"names":["_createMdxContent","props","_components","Object","assign","p","a","ul","li","strong","_provideComponents","components","React","href","target","rel","src","width","height","title","frameborder","allow","referrerpolicy","allowfullscreen","wrapper","MDXLayout","Post","_ref","data","mdx","children","fields","slug","html","nonce","htmlEncrypted","excerpt","path","date","commit","type","frontmatter","cover","tableOfContents","editTime","moment","format","postTime","Utils","formatDate","siteMetadata","getImage","useSiteMetadata","canonicalUrl","generateFullUrl","console","log","state","setState","useState","locked","failed","passwordVisible","setPasswordVisible","password","setPassword","handlePasswordVisibleChange","handlePasswordChange","value","onUnlock","passwordDecoded","naclUtil","nonceBuffer","keyBuffer","nacl","slice","keyLength","box","htmlBuffer","open","htmlReal","e","time","push","context","useContext","Context","location","useLocation","useEffect","getOwnPropertyNames","length","pathname","EncryptedBody","Panel","description","Grid","fluid","Row","justify","Col","xs","sm","md","lg","xl","Message","InputGroup","style","marginTop","Input","placeholder","onPressEnter","onChange","size","Button","onClick","Icon","icon","className","PublicBody","SEO","keywords","color","marginBottom","join","FlexboxGrid","Comment","pageCanonicalUrl","pageId","GatsbyMDXWrapper","GATSBY_COMPILED_MDX"],"sourceRoot":""}